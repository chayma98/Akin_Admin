(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"36kZ":function(t,e,c){"use strict";c.r(e),c.d(e,"AccessModule",(function(){return N}));var i=c("ofXK"),r=c("tyNb"),s=c("3Pt+");class n{constructor(t,e){this.id_client=t,this.id_article=e}}var o=c("fXoL"),b=c("Q18z"),l=c("T8Wt"),a=c("tk/3");let u=(()=>{class t{constructor(t){this.http=t,this.urlCnx="http://localhost:8000/access"}addAcceess(t){return this.http.post(this.urlCnx+"/add",t)}verifAcceess(t){return this.http.post(this.urlCnx+"/verif",t)}allAccess(){return this.http.get(this.urlCnx+"/all")}deleteAccess(t,e){return this.http.post(this.urlCnx+"/delete",{client:t,article:e})}infoAccess(t){return this.http.get(this.urlCnx+"/info/"+t)}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(a.a))},t.\u0275prov=o.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=c("5eHb");function p(t,e){if(1&t&&(o.Nb(0,"option",17),o.mc(1),o.Mb()),2&t){const t=e.$implicit;o.cc("value",t.id_article),o.xb(1),o.nc(t.nom_article)}}function h(t,e){if(1&t&&(o.Nb(0,"option",17),o.mc(1),o.Mb()),2&t){const t=e.$implicit;o.cc("value",t.id_client),o.xb(1),o.pc("",t.nom_client," ",t.prenom_client,"")}}let m=(()=>{class t{constructor(t,e,c,i,r,n){this.fb=t,this.apiCLT=e,this.apiART=c,this.service=i,this.toastr=r,this.router=n,this.clients=[],this.articles=[];let o={article:new s.c(s.m.required),client:new s.c(s.m.required)};this.addAcc=this.fb.group(o)}get article(){return this.addAcc.get("article")}get client(){return this.addAcc.get("client")}ngOnInit(){this.getAllClients(),this.getAllArticles()}saveAccess(){let t=this.addAcc.value;console.log("contenue : "+t);let e=new n(t.client,t.article);this.service.verifAcceess(e).subscribe(t=>{"SUCCESS"==t.resultat?this.saveAcces(e):this.toastr.error("Access Existe d\xe9ja","Error",{timeOut:3e3})},t=>{console.log("Erreur")})}saveAcces(t){this.service.addAcceess(t).subscribe(t=>{"SUCCESS"==t.resultat?(this.toastr.success("Ajout effectu\xe9e avec succ\xe9es","Success",{timeOut:3e3}),this.router.navigate(["home/access/all"])):this.toastr.error("Erreur d'ajout","Error",{timeOut:3e3})},t=>{console.log("Erreur: "+t)})}getAllClients(){this.apiCLT.allClient().subscribe(t=>{this.clients=t},t=>{console.log("erreur  : "+t)})}getAllArticles(){this.apiART.allArticle().subscribe(t=>{this.articles=t},t=>{console.log("erreur  : "+t)})}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(s.b),o.Ib(b.a),o.Ib(l.a),o.Ib(u),o.Ib(d.b),o.Ib(r.b))},t.\u0275cmp=o.Cb({type:t,selectors:[["app-ajout-access"]],decls:27,vars:4,consts:[["id","content",1,"main-content"],[1,"container"],[1,"row","layout-top-spacing"],[1,"col-lg-12","col-12","layout-spacing"],[1,"statbox","widget","box","box-shadow"],[1,"widget-header"],[1,"row"],[1,"col-xl-12","col-md-12","col-sm-12","col-12"],[1,"widget-content","widget-content-area"],[3,"formGroup","ngSubmit"],[1,"mb-4"],[1,"mg-b-10"],["name","article","formControlName","article",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["name","client","formControlName","client",1,"form-control"],[1,"col-sm-6","col-md-3"],[1,"btn","btn-blue-grey","btn-lg","btn-block",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.Nb(2,"div",1),o.Nb(3,"div",2),o.Nb(4,"div",3),o.Nb(5,"div",4),o.Nb(6,"div",5),o.Nb(7,"div",6),o.Nb(8,"div",7),o.Nb(9,"h4"),o.mc(10," Ajout d'un Acc\xe8s "),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Jb(11,"hr"),o.Nb(12,"div",8),o.Nb(13,"form",9),o.Ub("ngSubmit",(function(){return e.saveAccess()})),o.Nb(14,"div",10),o.Nb(15,"p",11),o.mc(16," Article : "),o.Mb(),o.Nb(17,"select",12),o.lc(18,p,2,2,"option",13),o.Mb(),o.Mb(),o.Nb(19,"div",10),o.Nb(20,"p",11),o.mc(21," Client : "),o.Mb(),o.Nb(22,"select",14),o.lc(23,h,2,3,"option",13),o.Mb(),o.Mb(),o.Nb(24,"div",15),o.Nb(25,"button",16),o.mc(26,"Valider"),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb()),2&t&&(o.xb(13),o.bc("formGroup",e.addAcc),o.xb(5),o.bc("ngForOf",e.articles),o.xb(5),o.bc("ngForOf",e.clients),o.xb(2),o.bc("disabled",e.addAcc.invalid))},directives:[s.o,s.h,s.e,s.l,s.g,s.d,i.h,s.j,s.n],styles:["@media (min-width:1200px){.container[_ngcontent-%COMP%]{width:1000px;background-color:#abb2b9}}"]}),t})();var f=c("cZdB");function g(t,e){if(1&t){const t=o.Ob();o.Nb(0,"tr"),o.Nb(1,"td"),o.Jb(2,"img",15),o.Mb(),o.Nb(3,"td"),o.mc(4),o.Mb(),o.Nb(5,"td"),o.mc(6),o.Mb(),o.Nb(7,"td",16),o.Nb(8,"ul",17),o.Nb(9,"li",18),o.Nb(10,"a",19),o.Ub("click",(function(){o.gc(t);const c=e.$implicit;return o.Yb().suppAcces(c.id_client,c.id_article)})),o.Jb(11,"i",20),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb()}if(2&t){const t=e.$implicit;o.xb(2),o.dc("src","http://127.0.0.1/hielo-772466825/shoppingcaart/shoping-cart/",t.image,"",o.ic),o.xb(2),o.nc(t.nom_article),o.xb(2),o.pc("",t.nom_client," ",t.prenom_client,"")}}const v=[{path:"add",component:m},{path:"all",component:(()=>{class t{constructor(t,e){this.service=t,this.toastr=e,this.access=[]}ngOnInit(){this.getAccess()}getAccess(){this.service.allAccess().subscribe(t=>{this.access=t},t=>{console.log("erreur  : "+t)})}suppAcces(t,e){confirm("Voulez-vous vraiment supprimer cet acc\xe8s !?")&&this.service.deleteAccess(t,e).subscribe(t=>{"SUCCESS"==t.resultat?(this.toastr.success("Suppression effectu\xe9e avec succ\xe9es","Success",{timeOut:3e3}),this.access=[],this.getAccess()):this.toastr.error("Erreu de Suppression","Error",{timeOut:3e3})},t=>{console.log("erreur  : "+t)})}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(u),o.Ib(d.b))},t.\u0275cmp=o.Cb({type:t,selectors:[["app-listt-access"]],decls:30,vars:5,consts:[["id","content",1,"main-content"],[1,"container"],[1,"row","layout-top-spacing"],[1,"col-lg-12","col-12","layout-spacing"],[1,"statbox","widget","box","box-shadow"],[1,"widget-header"],[1,"row"],[1,"col-xl-12","col-md-12","col-sm-12","col-12"],[1,"widget-content","widget-content-area"],[1,"form-group"],["type","text","placeholder","Cherche Ici",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","mb-4","mt-4"],[1,"table","table-hover",2,"width","100%"],[1,"no-content"],[4,"ngFor","ngForOf"],["width","80",3,"src"],["width","100",1,"text-center"],[1,"table-controls"],[1,"text-center"],["data-toggle","tooltip","data-placement","top","title","Supprimer",3,"click"],[1,"fa","fa-trash",2,"font-size","30px","color","#ABB2B9"]],template:function(t,e){1&t&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.Nb(2,"div",1),o.Nb(3,"div",2),o.Nb(4,"div",3),o.Nb(5,"div",4),o.Nb(6,"div",5),o.Nb(7,"div",6),o.Nb(8,"div",7),o.Nb(9,"h4"),o.mc(10,"Liste Des Acc\xe8s Aux Articles "),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Jb(11,"hr"),o.Nb(12,"div",8),o.Nb(13,"div",9),o.Nb(14,"input",10),o.Ub("ngModelChange",(function(t){return e.term=t})),o.Mb(),o.Mb(),o.Nb(15,"div",11),o.Nb(16,"table",12),o.Nb(17,"thead"),o.Nb(18,"tr"),o.Nb(19,"th"),o.mc(20,"Photo"),o.Mb(),o.Nb(21,"th"),o.mc(22,"Article"),o.Mb(),o.Nb(23,"th"),o.mc(24,"Client"),o.Mb(),o.Nb(25,"th",13),o.mc(26,"Action"),o.Mb(),o.Mb(),o.Mb(),o.Nb(27,"tbody"),o.lc(28,g,12,4,"tr",14),o.Zb(29,"filter"),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb()),2&t&&(o.xb(14),o.bc("ngModel",e.term),o.xb(14),o.bc("ngForOf",o.ac(29,2,e.access,e.term)))},directives:[s.a,s.g,s.i,i.h],pipes:[f.a],styles:["@media (min-width:1200px){.container[_ngcontent-%COMP%]{width:1000px;background-color:#abb2b9}}"]}),t})()}];let M=(()=>{class t{}return t.\u0275mod=o.Gb({type:t}),t.\u0275inj=o.Fb({factory:function(e){return new(e||t)},imports:[[r.d.forChild(v)],r.d]}),t})(),N=(()=>{class t{}return t.\u0275mod=o.Gb({type:t}),t.\u0275inj=o.Fb({factory:function(e){return new(e||t)},imports:[[i.b,M,s.f,s.k,f.b]]}),t})()},cZdB:function(t,e,c){"use strict";c.d(e,"b",(function(){return s})),c.d(e,"a",(function(){return r}));var i=c("fXoL");let r=(()=>{class t{transform(e,c){return c&&e?t.filter(e,c):e}static filter(t,e){const c=e.toLowerCase();return t.filter((function(t){return function t(e,i){for(let r in e)if(null!==e[r]&&null!=e[r]){if("object"==typeof e[r]&&t(e[r],i))return!0;if(e[r].toString().toLowerCase().includes(c))return!0}return!1}(t,e)}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Hb({name:"filter",type:t,pure:!1}),t.\u0275prov=i.Eb({token:t,factory:t.\u0275fac}),t})(),s=(()=>{class t{}return t.\u0275mod=i.Gb({type:t}),t.\u0275inj=i.Fb({factory:function(e){return new(e||t)}}),t})()}}]);